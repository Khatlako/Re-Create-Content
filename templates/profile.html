<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profile</title>
<style>
    body {
        margin:0;
        font-family: 'Segoe UI', sans-serif;
        color: #fff;
        overflow-x: hidden;
    }

    /* Video Background */
    .video-bg {
        position: fixed;
        top:0;
        left:0;
        width:100%;
        height:100%;
        object-fit: cover;
        z-index:-1;
        opacity:0.5;
    }

    /* Navbar */
    nav {
        position: fixed;
        top:0;
        left:0;
        width:100%;
        background: white;
        display:flex;
        align-items:center;
        padding: 10px 30px;
        z-index:1000;
    }
    nav .logo img {
        height:40px;
    }

    .container {
        min-height: 100vh;
        padding: 100px 20px 60px;
        display: flex;
        justify-content: flex-start; /* push card to the left */
        align-items: flex-start;
    }

    .profile-box {
        width: 100%;
        max-width: 500px;
        background: rgba(0,0,0,0.6);
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }

    h1 {
        text-align:center;
        font-size:2rem;
        margin-bottom: 40px;
        font-weight:700;
    }

    .info-row {
        display:flex;
        justify-content: space-between;
        padding: 12px 20px;
        background: rgba(255,255,255,0.1);
        border-radius: 12px;
        margin-bottom: 15px;
        font-weight:600;
    }

    .btn-settings {
        display:inline-block;
        margin-top: 25px;
        padding:12px 25px;
        background:#4B0082;
        color:white;
        font-weight:600;
        border-radius:12px;
        text-decoration:none;
        transition:0.3s;
    }
    .btn-settings:hover { background:#5e00a3; }

    ul.flash-messages {
        margin-top:25px;
        list-style:none;
        padding-left:0;
    }
    ul.flash-messages li {
        font-weight:600;
        margin-bottom:10px;
    }
    ul.flash-messages li.danger {
        color: #ff6b6b;
    }
    ul.flash-messages li.success {
        color: #00a86b;
    }
</style>
</head>
<body>

<!-- Video Background -->
<video class="video-bg" autoplay muted loop>
    <source src="{{ url_for('static', filename='images/vid1.mp4') }}" type="video/mp4">
</video>

<!-- Navbar -->
<nav>
    <div class="logo">
        <img src="{{ url_for('static', filename='images/logo2.png') }}" alt="Econet Business Logo">
    </div>
</nav>

<div class="container">
    <div class="profile-box">

        <h1>Profile</h1>

        <div class="info-row">
            <strong>Username:</strong>
            <span>{{ current_user.username }}</span>
        </div>

        <div class="info-row">
            <strong>Subscription Type:</strong>
            <span>
                {% if current_user.has_active_subscription %}
                    {{ current_user.subscription_type }}
                {% elif current_user.used_trial %}
                    Free Trial
                {% else %}
                    None
                {% endif %}
            </span>
        </div>

        <div class="info-row">
            <strong>Days Left:</strong>
            <span>
                {% if current_user.has_active_subscription or current_user.used_trial %}
                    {{ current_user.days_left }} days
                {% else %}
                    N/A
                {% endif %}
            </span>
        </div>

        <div class="info-row">
            <strong>Status:</strong>
            <span>
                {% if current_user.has_active_subscription or current_user.used_trial %}
                    Active
                {% else %}
                    Expired
                {% endif %}
            </span>
        </div>

        <div style="text-align:center;">
            <a href="{{ url_for('settings') }}" class="btn-settings">Go to Settings</a>
            <ul class="flash-messages">
            {% for category, message in messages %}
                <li style="color: {% if category=='danger' %}#ff6b6b{% elif category=='success' %}#00a86b{% else %}#fff{% endif %};">
                    {{ message }}
                </li>
            {% endfor %}
            </ul>
        </div>

    </div>
</div>

</body>
</html>
